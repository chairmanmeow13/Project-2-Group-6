<!DOCTYPE html>
<html lang="en">
<html>

<head>
    <meta charset="UTF-8">
    <!-- materialize -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
    <!-- materialize icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
       <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
    <title>Emotion Matching Game</title>
</head>

<body>
    <div id="container">
      <h1>Emotion Matching Game</h1>
      <p>Make sure to answer all the questions!</p>
      <div id="content">
        <h3 id="question"></h3>
        <div id="choices"></div>
        <p><button id="submit"></button></p>
        <p id="score"></p>
      </div>
    </div>
	
	<div class='col s4'>
            <!-- <p><a href='/'>Home</a> --> 
    </div>

<script type="text/javascript">

var quiz = [{
  "question": "I am lying down, listening to my favorite song. Everything is peaceful and quiet. I feel…",
  "choices": ["bored", "calm", "sad"],
  "correct": "calm"
}, {
  "question": "I did not know that my brother was coming to my recital! I feel …",
  "choices": ["excited", "angry", "surprised"],
  "correct": "surprised"
}, {
  "question": "I just finished all of my work for the day. I feel…",
  "choices": ["relaxed", "confused", "concerned"],
  "correct": "relaxed"
}, {
  "question": "My friend has not called me back all day. He should have arrived home by now. I feel …",
  "choices": ["disappointed", "concerned", "nervous"],
  "correct": "concerned"
}, {
  "question": "I made a D on the test, but I studied so hard. I feel …",
  "choices": ["angry", "concerned", "disappointed"],
  "correct": "disappointed"
}, {
  "question": "I have been listening to the teacher’s lecture for 2 hours. I feel …",
  "choices": ["bored", "confused", "relaxed"],
  "correct": "bored"
}, {
  "question": "Leslie and I were supposed to go to the mall together, but she went with Susan instead. I feel …",
  "choices": ["angry", "surprised", "hurt"],
  "correct": "hurt"
}, {
  "question": "My mom just gave me the best birthday present! I feel …",
  "choices": ["surprised", "happy", "excited"],
  "correct": "happy"
}, {
  "question": "I do not understand this job assignment at all. I feel …",
  "choices": ["confused", "disappointed", "angry"],
  "correct": "confused"
}, {
  "question": "My mom and I got in a big fight and now I cannot go to the movies after school. I feel …",
  "choices": ["disappointed", "hurt", "upset"],
  "correct": "upset"
}, {
  "question": "My dog Max died last week. I feel …",
  "choices": ["afraid", "sad", "upset"],
  "correct": "sad"
}, {
  "question": "I have to give a presentation in front of the entire class. My hands are shaking. I feel …",
  "choices": ["afraid", "excited", "nervous"],
  "correct": "nervous"
}, {
  "question": "That guy keeps bumping into me in the hallway and he makes really rude comments. I feel …",
  "choices": ["angry", "disgusted", "sad"],
  "correct": "angry"
}, {
  "question": "My class just won a pizza party for selling the most tickets! I feel …",
  "choices": ["excited", "happy", "surprised"],
  "correct": "excited"
}, {
  "question": "I just heard a loud noise outside my window! I feel …",
  "choices": ["nervous", "confused", "afraid"],
  "correct": "afraid"
}, {
  "question": "This bathroom is really dirty and I don’t want to touch anything in here. I feel…",
  "choices": ["concerned", "disgusted", "nervous"],
  "correct": "disgusted"
}];


// define elements
var content = $("content"),
  questionContainer = $("question"),
  choicesContainer = $("choices"),
  scoreContainer = $("score"),
  submitBtn = $("submit");

// init vars
var currentQuestion = 0,
  score = 0,
  askingQuestion = true;

function $(id) { // shortcut for document.getElementById
  return document.getElementById(id);
}

function askQuestion() {
  var choices = quiz[currentQuestion].choices,
    choicesHtml = "";

  // loop through choices, and create radio buttons
  for (var i = 0; i < choices.length; i++) {
    choicesHtml += "<input type='radio' name='quiz" + currentQuestion +
      "' id='choice" + (i + 1) +
      "' value='" + choices[i] + "'>" +
      " <label for='choice" + (i + 1) + "'>" + choices[i] + "</label><br>";
  }

  // load the question
  questionContainer.textContent = "Q" + (currentQuestion + 1) + ". " +
    quiz[currentQuestion].question;

  // load the choices
  choicesContainer.innerHTML = choicesHtml;

  // setup for the first time
  if (currentQuestion === 0) {
    scoreContainer.textContent = "Score: 0 right answers out of " +
      quiz.length + " possible.";
    submitBtn.textContent = "Submit Answer";
  }
}

function checkAnswer() {
  // are we asking a question, or proceeding to next question?
  if (askingQuestion) {
    submitBtn.textContent = "Next Question";
    askingQuestion = false;

    // determine which radio button they clicked
    var userpick,
      correctIndex,
      radios = document.getElementsByName("quiz" + currentQuestion);
    for (var i = 0; i < radios.length; i++) {
      if (radios[i].checked) { // if this radio button is checked
        userpick = radios[i].value;
      }

      // get index of correct answer
      if (radios[i].value == quiz[currentQuestion].correct) {
        correctIndex = i;
      }
    }

    // setup if they got it right, or wrong
    var labelStyle = document.getElementsByTagName("label")[correctIndex].style;
    labelStyle.fontWeight = "bold";
    if (userpick == quiz[currentQuestion].correct) {
      score++;
      labelStyle.color = "green";
    } else {
      labelStyle.color = "red";
    }

    scoreContainer.textContent = "Score: " + score + " right answers out of " +
      quiz.length + " possible.";
  } else { // move to next question
    // setting up so user can ask a question
    askingQuestion = true;
    // change button text back to "Submit Answer"
    submitBtn.textContent = "Submit Answer";
    // if we're not on last question, increase question number
    if (currentQuestion < quiz.length - 1) {
      currentQuestion++;
      askQuestion();
    } else {
      showFinalResults();
    }
  }
}

function showFinalResults() {
  content.innerHTML = "<h2>You've completed the game!</h2>" +
    "<h2>Below are your results:</h2>" +
    "<h2>" + score + " out of " + quiz.length + " questions, " +
    Math.round(score / quiz.length * 100) + "</h2>";
}

window.addEventListener("load", askQuestion, false);
submitBtn.addEventListener("click", checkAnswer, false);

	</script>
</body>
</html>